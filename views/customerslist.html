<!DOCTYPE html>
<html lang="en" ng-app="Customers" ng-controller="CustomersListController">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head
     content must come *after* these tags -->
    <title>Sell on Credit</title>
    <!-- Bootstrap -->
    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../node_modules/bootstrap/dist/css/bootstrap-social.css" rel="stylesheet">
    <link href="../node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../public/stylesheets/mystyles.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="../node_modules/angular/angular.min.js"></script>
    <script src="../controllers/customers.js"></script>
</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false"
                    aria-controls="navbar">
                          <span class="sr-only">Toggle navigation</span>
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                      </button>
                <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-credit-card"></span></a>
            </div>

            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href="index.html">
                    <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
                    Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                         <span class="glyphicon glyphicon-user" aria-hidden="true"></span> Customers <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#"><span class="glyphicon glyphicon-list-alt"></span> List</a></li>
                            <li><a href="customersadd.html"><span class="glyphicon glyphicon-plus"></span> Add</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                         <span class="glyphicon glyphicon-th" aria-hidden="true"></span> Products <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#"><span class="glyphicon glyphicon-list-alt"></span> List</a></li>
                            <li><a href="#"><span class="glyphicon glyphicon-plus"></span> Add</a></li>
                        </ul>
                    </li>
                    <li><a href="#"><span class="glyphicon glyphicon-shopping-cart"></span> Put on the cuff </a></li>
                    <li><a href="#"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> About</a></li>
                    <li><a href="#"><i class="fa fa-envelope-o"></i> Contact</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a data-toggle="modal" data-target="#loginModal">
                    <span class="glyphicon glyphicon-log-in"></span> Login</a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>

    <div id="loginModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Login </h4>
                </div>
                <div class="modal-body">

                    <form class="form-inline" role="form">
                        <div class="form-group">
                            <label class="sr-only" for="emailLoginModal">Email Address</label>
                            <input type="text" class="form-control" id="emailLoginModal" name="emailLoginModal" placeholder="Email">
                        </div>
                        <div class="form-group">
                            <label class="sr-only" for="passwordLoginModal">Password</label>
                            <input type="text" class="form-control" id="passwordLoginModal" name="passwordLoginModal" placeholder="Password">
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox">
                            Remember me
                          </label>
                        </div>
                        <button type="button" class="btn btn-info btn-sm">Sign in</button>
                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancel</button>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" id="editModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="refreshPage()"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Edit Customer</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="cpf-modal">CPF:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="cpf-modal" placeholder="Enter CPF" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" title="Type CPF following the example: 135.723.236-80" ng-model="customer.cpf" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="name-modal">Name:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="name-modal" placeholder="Enter Name" ng-model="customer.customer_name" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="mobile">Cellphone:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="mobile" placeholder="Enter Cellphone" ng-model="customer.cellphone">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="tel">Telephone:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="tel" placeholder="Enter Telephone" ng-model="customer.telephone">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="email-modal">Email:</label>
                                <div class="col-sm-10">
                                    <input type="email" class="form-control" id="email-modal" placeholder="Enter Email" ng-model="customer.email">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-primary" ng-click="editCustomer(customer)">Save Changes</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="refreshPage()">Close</button>
                                </div>
                            </div>
                        </form>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->

    <header class="jumbotron">

        <!-- Main component for a primary marketing message or call to action -->

        <div class="container">
            <div class="row row-header">
                <div class="col-xs-12 col-sm-8">
                    <h1>Sell on Credit</h1>
                    <p>The biggest goal is make you never forget what you sold and for who, so what are you waiting to sell
                        much more?</p>
                </div>
            </div>
        </div>
    </header>

    <div class="container">

        <div class="row row-content">
            <div class="col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading">Customers List</div>
                    <div class="panel-body">
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-filter-addon"><i class="fa fa-filter" aria-hidden="true"></i></span>
                            <input type="text" ng-model="customerFilter" class="form-control" placeholder="Insert your filter..." aria-describedby="basic-filter-addon"
                            />
                        </div>
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <th> CPF </th>
                                    <th> Name </th>
                                    <th> Cellphone </th>
                                    <th> Telephone </th>
                                    <th> Email </th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="customer in customers | filter : customerFilter">
                                        <td> {{ customer.cpf }} </td>
                                        <td> {{ customer.customer_name }} </td>
                                        <td> {{ customer.cellphone }} </td>
                                        <td> {{ customer.telephone }} </td>
                                        <td> {{ customer.email }} </td>
                                        <td>
                                            <div class="btn-group">
                                                <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#editModal" ng-click="callEditModal(customer)">Edit</button>
                                                <button type="button" class="btn btn-danger" ng-click="removeCustomer(customer.cpf)">Delete</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <div class="container">
            <div class="row row-footer">
                <div class="col-xs-12">
                    <p style="padding:10px;"></p>
                    <p align="center">Copyright 2017 Sell on Credit</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>

</body>

</html>